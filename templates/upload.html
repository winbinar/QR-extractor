<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ DataMatrix-–∫–æ–¥–æ–≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fafafa;
            color: #333;
        }
        h1, h2 {
            color: #2c3e50;
        }
        .info {
            background: #e8f4fc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            border-left: 4px solid #3498db;
        }
        .upload-area {
            border: 3px dashed #95a5a6;
            border-radius: 10px;
            padding: 40px 20px;
            text-align: center;
            background: white;
            transition: all 0.3s;
            margin: 20px 0;
            cursor: pointer;
        }
        .upload-area.drag-over {
            border-color: #2ecc71;
            background-color: #f0fdf4;
        }
        .form-group {
            margin: 15px 0;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        .btn {
            background: #3498db;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        .btn:hover {
            background: #2980b9;
        }
        #file-input { display: none; }
        .messages { color: red; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>üîç –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ DataMatrix-–∫–æ–¥–æ–≤ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h1>

    <div class="info">
        <h2>‚ÑπÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h2>
        <ul>
            <li>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ <strong>JPG –∏–ª–∏ PNG</strong>, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –º–æ–≥—É—Ç –±—ã—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ <strong>DataMatrix-–∫–æ–¥–æ–≤</strong>.</li>
            <li>–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥—ë—Ç –≤—Å–µ –∫–æ–¥—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –ø–æ–≤—ë—Ä–Ω—É—Ç—ã –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –∏—Å–∫–∞–∂–µ–Ω—ã.</li>
            <li>–ö–∞–∂–¥—ã–π –∫–æ–¥ –±—É–¥–µ—Ç –≤—ã—Ä–µ–∑–∞–Ω –∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª.</li>
            <li>–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å <strong>–∏–º—è –ø–∞–ø–∫–∏</strong>, –≤ –∫–æ—Ç–æ—Ä—É—é —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ).</li>
            <li>–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å –∫–æ–¥—ã –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ <strong>–≤—Å—ë —Å—Ä–∞–∑—É –≤ ZIP-–∞—Ä—Ö–∏–≤–µ</strong>.</li>
        </ul>
        <p><strong>–í–∞–∂–Ω–æ:</strong> –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—Ä–µ–º–µ–Ω–Ω–æ. –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∫–∞—á–∞–π—Ç–µ –∏—Ö –Ω–∞ —Å–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä.</p>
    </div>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="messages">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <form id="upload-form" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="folder_name">üìÅ –£–∫–∞–∂–∏—Ç–µ –∏–º—è –ø–∞–ø–∫–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–ª–∞—Ç–∏–Ω–∏—Ü–∞, —Ü–∏—Ñ—Ä—ã, –¥–µ—Ñ–∏—Å—ã):</label>
            <input type="text" id="folder_name" name="folder_name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: batch_2024" value="output_{{ '%04d'|format(1 + range(1000)|random) }}">
        </div>

        <div class="upload-area" id="drop-area">
            <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å—é–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (JPG/PNG) –∏–ª–∏</p>
            <button type="button" class="btn" onclick="document.getElementById('file-input').click()">
                –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª
            </button>
            <input type="file" id="file-input" name="file" accept="image/*">
        </div>
    </form>

    <script>
        const dropArea = document.getElementById('drop-area');
        const fileInput = document.getElementById('file-input');
        const form = document.getElementById('upload-form');

        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, preventDefaults, false);
            document.body.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            dropArea.addEventListener(eventName, () => dropArea.classList.add('drag-over'), false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dropArea.addEventListener(eventName, () => dropArea.classList.remove('drag-over'), false);
        });

        dropArea.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            if (files.length) {
                fileInput.files = files;
                form.submit();
            }
        }

        fileInput.addEventListener('change', () => {
            if (fileInput.files.length) {
                form.submit();
            }
        });
    </script>
</body>
</html>